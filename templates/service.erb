[Unit]
<% if @description -%>
Description=<%= @description %>
<% end -%>
<% if !@defaultdeps -%>
DefaultDependencies=no
<% end -%>
<% if @conflicts.any? -%>
Conflicts=<%= @conflicts.sort.join(' ') %>
<% end -%>
<% if @requires.any? -%>
Requires=<%= @requires.sort.join(' ') %>
<% end -%>
<% if @wants.any? -%>
Wants=<%= @wants.sort.join(' ') %>
<% end -%>
<% if @after.any? -%>
After=<%= @after.sort.join(' ') %>
<% end -%>

[Service]
<% if @execstart -%>
ExecStart=<%= @execstart %>
<% end -%>
<% if defined?(@execreload) -%>
ExecReload=<%= @execreload %>
<% end -%>
<% if defined?(@execstartpost) -%>
ExecStartPost=<%= @execstartpost %>
<% end -%>
<% if defined?(@execstartpre) -%>
ExecStartPre=<%= @execstartpre %>
<% end -%>
<% if defined?(@execstop) -%>
ExecStop=<%= @execstop %>
<% end -%>
<% if defined?(@execstoppost) -%>
ExecStopPost=<%= @execstoppost %>
<% end -%>
<% if @remainafterexit -%>
RemainAfterExit=yes
<% end -%>
<% if defined?(@workingdir) -%>
WorkingDirectory=<%= @workingdir %>
<% end -%>
<% if @restart -%>
Restart=<%= @restart %>
<% end -%>
<% if defined?(@restartsec) -%>
RestartSec=<%= @restartsec %>
<% end -%>
<% if @syslogidentifier -%>
SyslogIdentifier=<%= @syslogidentifier %>
<% end -%>
<% if @user -%>
User=<%= @user %>
<% end -%>
<% if @group -%>
Group=<%= @group %>
<% end -%>
<% if @trpe -%>
Type=<%= @type %>
<% end -%>

[Install]
<% if @wantedby -%>
WantedBy=<%= @wantedby.sort.join(' ') %>
<% end -%>
